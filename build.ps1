$ErrorActionPreference = "Stop"

python -m pip install --upgrade pip --disable-pip-version-check
python -m pip install -r requirements.txt --disable-pip-version-check

pyinstaller `
    --noconfirm `
    --clean `
    --onedir `
    --windowed `
    --name MycoLog `
    --hidden-import pillow_heif `
    --exclude-module PySide6.QtQml `
    --exclude-module PySide6.QtQuick `
    --exclude-module PySide6.QtQuickControls2 `
    --exclude-module PySide6.QtQuickWidgets `
    --exclude-module PySide6.QtPdf `
    --exclude-module PySide6.QtPdfWidgets `
    --exclude-module tkinter `
    --exclude-module PyQt5 `
    --exclude-module PyQt6 `
    --exclude-module wx `
    --exclude-module gi `
    --exclude-module kivy `
    main.py
